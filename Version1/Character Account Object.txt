&FUN`ACCOUNT`CHARLINE u(cao)=align(-6 3 -3 2 18 -8 25 6,num(%0),switch(1,isadmin(%0),ansi(hy,ADM),haspower(%0,BUILDER),ansi(hm,BUI),strmatch(TP,get(%0/D`FINGER`CHARTYPE)),ansi(hy,TP),approved(%0),ansi(hg,APP),ansi(hr,---)),default(%0/D`ALTS,0),default(%0/LEVEL,??),pueblize(name(%0),+finger [name(%0)]),elements(maildstats(%0),5),pueblize(get(%0/LASTIP),+ip [name(%0)]),if(gte(conn(%0),0),ansi(hg,ago(idle(%0))),ansi(hx,elements(get(%0/LAST),2 3))))

&CMD_ODDS #2828=$+odds:th iter(lvplayers(%l),iter(strfirstof(first(getproperty(%i0,FACTIONDB)),UNAFF),setq(%i0,setunion(r(%i0),%i1))));th setq(facs,filterbool(#lambda/listq(),factions() UNAFF));@nspemit %#=There are [itemize(iter(%q<facs>,words(r(%i0)) [if(isdbref(%i0),name(%i0),Unaffiliated)],%b,|),|,and,\,)] characters here.

&CMD-STATCHECK #2828=$+statcheck:@assert isadmin(%#); think setq(l,search(all,type,player,elock,stats:*11*|stats:*12*|stats:*5|stats:*6|stats:*7|stats:*8|stats:*9|stats:*10|stats:*11|stats:*12));think pemit(%#,[center(< Statcheck >,78,=)]%r[ljust(Name,20)]%tSk%tEv%tSt%tEn%tAi%tLVL%r[repeat(-,78)]%r[regeditall(edit(iter(%ql,ljust(name(%i0),20)%t[get(%i0/stats)]%t[get(%i0/level)],,%r),|,%t),[get(#2075/regex1-statcheck)],ansi(hr,$0),[get(#2075/regex2-statcheck)],ansi(hr,$0))]%r[repeat(=,78)])
