&DATA`SCHEDULEBOARD u(scenesys)=Scene Announcements
&DATA`SCHEDULEBOARD_DB u(scenesys)=#560
&DATA`SQL`DATABASE u(scenesys)=multiver_mush
&DATA`URL`BASE u(scenesys)=multiversemush.com/scene/
&DATA`URL`VIEW u(scenesys)=view.php?id=

&INCLUDE`SCHEDULE`ADD u(scenesys)=@@ This include adds a scene to the schedule. It assumes that all the testing has been done by the command. We're expecting the ScheduleData to be in the form of 'MMM DD YYYY|HH:MM|TITLE'.                                                                                          Arguments= %0: SendTo, %1: Player ID, %2: ScheduleData, %3: Scene Description, %4: Character Name, %5: room                                                                                                                 ; @assert setr(ScheduleSet,u(w`update,set`schedule                             ,u(me/fn`sql`timeformat,convtime(switch(%2,* * *|*|*,$0 $1 $3:00 $2,#$)))      ,rest(rest(%2,|),|),%1,%4,%3,%5)) =                                                                                                                       @pemit %0=u(fn`msg,SQL`ERROR,%q<ScheduleSet>)                                                                                                           ; @pemit %0=u(fn`msg,Schedule`Success,%q<ScheduleSet>,%1,%2)                       ; @cemit/noisy RP=[name(%0)] has scheduled a scene[if(%5,%bin the room '[name(%5)]')] on [first(%2,|)] at [elements(%2,2,|)] [timefmt($Z)], titled: '[u(fn`display`cmdtag,+scenes %q<ScheduleSet>,last(%2,|))]'. ; @include me/include`schedule`success=%0,%1,%q<ScheduleSet>,first(%2,|),elements(%2,2,|),last(%2,|),trim(trim(%3,%r)),%5